(this.webpackJsonpmern=this.webpackJsonpmern||[]).push([[0],{128:function(e,t,a){},132:function(e,t,a){},133:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(10),c=a.n(l),i=(a(63),a(64),a(17)),o=a(16),s=a(11),m=a(12),d=a(14),u=a(13),h=a(15);function E(e){var t=e.fluid,a=e.children;return r.a.createElement("div",{className:"container".concat(t?"-fluid":"")},a)}a(65);function f(e){return r.a.createElement("div",Object.assign({className:"card"},e),e.children)}var p=a(55),g=a.n(p);a(66);function b(e){return r.a.createElement("div",{className:"card"},r.a.createElement("img",Object.assign({className:"card-img-top",id:"header",src:g.a},e)),r.a.createElement("h1",{className:"card-title",id:"title"},"THE VIRGINIA SOUL ARCHIVE"))}a(67);var v=function(e){var t=e.children;return r.a.createElement("nav",{className:"navbar"},r.a.createElement("ul",{className:"breadcrumbs"},t))};a(68);var y=function(e){var t=e.children;return r.a.createElement("div",{style:{paddingTop:0,paddingBottom:0},className:"jumbotron"},t)},j=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(d.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={user:""},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement(E,{fluid:!0},r.a.createElement(v,null,r.a.createElement("a",{href:"#",id:"selected"},"HOME"),r.a.createElement("a",{href:"/discography"},"THE ARCHIVE"),r.a.createElement("a",{href:"/addentry"},"ADD ENTRY")),r.a.createElement(b,null),r.a.createElement("br",null),r.a.createElement(y,null,r.a.createElement("h3",null,"Mission Statement:"),r.a.createElement("p",null,"Test test")))}}]),t}(n.Component),O=a(18),R=a(21),C=a.n(R),A={getRecords:function(){return C.a.get("/api/records")},getRecord:function(e){return C.a.get("/api/records/"+e)},deleteRecord:function(e){return C.a.delete("/api/records/"+e)},saveRecord:function(e){return C.a.post("/api/records",e)}};function N(e){return r.a.createElement("p",{style:{textAlign:"left",color:"#410000",fontSize:"20px",fontWeight:"bolder"}},e.children)}function D(e){return r.a.createElement("div",{className:"form-group"},r.a.createElement("input",Object.assign({type:"file",className:"form-control-file",id:"imageUpload"},e)))}function S(e){return r.a.createElement("div",{className:"form-group"},r.a.createElement("input",Object.assign({className:"form-control",type:"text"},e)))}function H(e){return r.a.createElement("div",{className:"form-group"},r.a.createElement("textarea",Object.assign({className:"form-control",rows:"5"},e)))}function T(e){return r.a.createElement("button",Object.assign({},e,{style:{float:"right",marginBottom:10},className:"btn btn-success"}),e.children)}var k=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(d.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={artist:"",titleA:"",titleB:"",recordLabel:"",cityRegion:"",releaseDate:"",comments:"",image:"",file:void 0},a.handleFormSubmit=function(e){e.preventDefault(),a.sendRequest(a.state.file),a.state.artist&&a.state.titleA&&A.saveRecord({artist:a.state.artist,titleA:a.state.titleA,titleB:a.state.titleB,recordLabel:a.state.recordLabel,cityRegion:a.state.cityRegion,releaseDate:a.state.releaseDate,comments:a.state.comments,image:a.state.file.name}).then(a.setState({artist:"",titleA:"",titleB:"",recordLabel:"",cityRegion:"",releaseDate:"",comments:"",image:""}))},a.handleChange=function(e){"image"===e.target.name&&(console.log(e.target.files),a.state.file=e.target.files[0]);var t=e.target,n=t.name,r=t.value;a.setState(Object(O.a)({},n,r))},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"sendRequest",value:function(e){var t=this;return console.log(e),new Promise((function(a,n){var r=new XMLHttpRequest;r.upload.addEventListener("error",(function(e){alert(e),n(r.response)}));var l=new FormData;l.append("file",e,t.state.image),r.open("POST","/upload"),r.send(l)}))}},{key:"render",value:function(){return r.a.createElement(E,{fluid:!0},r.a.createElement(v,null,r.a.createElement("a",{className:"active",href:"/"},"HOME"),r.a.createElement("a",{href:"/discography"},"THE ARCHIVE"),r.a.createElement("a",{href:"#",id:"selected"},"ADD ENTRY")),r.a.createElement(y,null,r.a.createElement("form",null,r.a.createElement(N,null,"Artist:"),r.a.createElement(S,{value:this.state.artist,onChange:this.handleChange,name:"artist",placeholder:"Name of artist or group"}),r.a.createElement(N,null,"A Side (or album title if LP or EP):"),r.a.createElement(S,{value:this.state.titleA,onChange:this.handleChange,name:"titleA",placeholder:"A-Side title or Album title"}),r.a.createElement(N,null,"B Side:"),r.a.createElement(S,{value:this.state.titleB,onChange:this.handleChange,name:"titleB",placeholder:"B-Side title or if album, leave blank"}),r.a.createElement(N,null,"Record Label (if no label, input 'no label'):"),r.a.createElement(S,{value:this.state.recordLabel,onChange:this.handleChange,name:"recordLabel",placeholder:"Record label name (if none, note 'no label')"}),r.a.createElement(N,null,"City or Region:"),r.a.createElement(S,{value:this.state.cityRegion,onChange:this.handleChange,name:"cityRegion",placeholder:"City/Town or general region of release"}),r.a.createElement(N,null,"Date of Release:"),r.a.createElement(S,{value:this.state.releaseDate,onChange:this.handleChange,name:"releaseDate",placeholder:"Exact or approximate release date"}),r.a.createElement(N,null,"Notes on Release:"),r.a.createElement(H,{value:this.state.comments,onChange:this.handleChange,name:"comments",placeholder:"Add any relevant notes or comments you may have for this release."}),r.a.createElement(N,null,"Image of Record to Upload:"),r.a.createElement(D,{value:this.state.image,onChange:this.handleChange,name:"image"}),r.a.createElement("br",null),r.a.createElement(T,{onClick:this.handleFormSubmit},"Submit Release"))))}}]),t}(n.Component),w=a(20);a(128);function B(e){var t=e.children;return r.a.createElement("div",{className:"list-overflow-container"},r.a.createElement("ul",{className:"list-group"},t))}function I(e){var t=e.children;return r.a.createElement("li",{className:"list-group-item"},t)}var L=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(d.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={discography:[]},a.loadDiscography=function(){A.getRecords().then((function(e){return a.setState({discography:e.data})})).catch((function(e){return console.log(e)}))},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.loadDiscography()}},{key:"CellFormatter",value:function(e,t){return r.a.createElement("div",null,r.a.createElement("a",{href:"records/"+t._id,id:"tableLink"},e))}},{key:"render",value:function(){var e;return r.a.createElement("div",null,r.a.createElement("div",{id:"compView"},r.a.createElement(E,{fluid:!0},r.a.createElement(v,null,r.a.createElement("a",{className:"active",href:"/"},"HOME"),r.a.createElement("a",{href:"#",id:"selected"},"THE ARCHIVE"),r.a.createElement("a",{href:"/addentry"},"ADD ENTRY")),r.a.createElement(y,null,r.a.createElement("br",null),r.a.createElement(w.BootstrapTable,{data:this.state.discography,bodyStyle:{background:"#dbb286"},options:this.options,pagination:!0,search:!0},r.a.createElement(w.TableHeaderColumn,(e={dataField:"id"},Object(O.a)(e,"dataField","artist"),Object(O.a)(e,"dataFormat",this.CellFormatter),Object(O.a)(e,"isKey",!0),Object(O.a)(e,"dataSort",!0),e),"Artist or Group",r.a.createElement("span",{id:"tiny"},"(click tab to sort by)"),"\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0"),r.a.createElement(w.TableHeaderColumn,{dataField:"titleA"},"A-Side \xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0"),r.a.createElement(w.TableHeaderColumn,{dataField:"titleB"},"B-Side \xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0"),r.a.createElement(w.TableHeaderColumn,{dataField:"recordLabel",dataSort:!0},"Label ",r.a.createElement("span",{id:"tiny"},"(click tab to sort by)")),r.a.createElement(w.TableHeaderColumn,{dataField:"cityRegion",dataSort:!0},"City or Region ",r.a.createElement("span",{id:"tiny"},"(click tab to sort by)")))))),r.a.createElement("div",{id:"smallScreen"},r.a.createElement(E,{fluid:!0},r.a.createElement(v,null,r.a.createElement("a",{className:"active",href:"/"},"HOME"),r.a.createElement("a",{href:"#",id:"selected"},"THE ARCHIVE"),r.a.createElement("a",{href:"/addentry"},"ADD ENTRY")),r.a.createElement(y,null,this.state.discography.length?r.a.createElement(B,null,this.state.discography.map((function(e){return r.a.createElement(I,{key:e._id},r.a.createElement(i.b,{to:"/records/"+e._id},r.a.createElement("strong",null,e.artist)," - ",e.titleA," / ",e.titleB," - ",e.recordLabel))}))):r.a.createElement("h3",null,"No data to list!")))))}}]),t}(r.a.Component);a(132);function x(e){return r.a.createElement("img",Object.assign({},e,{style:{height:"300px",width:"300px",float:"left"}}))}var F=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(d.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={record:{}},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this;A.getRecord(this.props.match.params.id).then((function(t){return e.setState({record:t.data})})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){var e="/"+this.state.record.image;return r.a.createElement(E,{fluid:!0},r.a.createElement(v,null,r.a.createElement("a",{className:"active",href:"/"},"HOME"),r.a.createElement("a",{href:"/discography"},"THE ARCHIVE"),r.a.createElement("a",{href:"/addentry"},"ADD ENTRY")),r.a.createElement(f,null,r.a.createElement("p",null,r.a.createElement(x,{src:e,alt:e}),r.a.createElement("span",{id:"subject"},"Artist:"),"\xa0\xa0",r.a.createElement("span",{id:"returnedInfo"},this.state.record.artist),r.a.createElement("br",null),r.a.createElement("span",{id:"subject"},"Record Label:"),"\xa0\xa0",r.a.createElement("span",{id:"returnedInfo"},this.state.record.recordLabel),r.a.createElement("br",null),r.a.createElement("span",{id:"subject"},"A Side:"),"\xa0\xa0",r.a.createElement("span",{id:"returnedInfo"},this.state.record.titleA),r.a.createElement("br",null),r.a.createElement("span",{id:"subject"},"B Side:"),"\xa0\xa0",r.a.createElement("span",{id:"returnedInfo"},this.state.record.titleB),r.a.createElement("br",null),r.a.createElement("span",{id:"subject"},"Approximate Release Date:"),"\xa0\xa0",r.a.createElement("span",{id:"returnedInfo"},this.state.record.releaseDate),r.a.createElement("br",null),r.a.createElement("span",{id:"subject"},"Notes on release:"),"\xa0\xa0",r.a.createElement("span",{id:"returnedInfo"},this.state.record.comments),r.a.createElement("br",null))))}}]),t}(n.Component);var M=function(){return r.a.createElement(i.a,null,r.a.createElement("div",null,r.a.createElement(o.c,null,r.a.createElement(o.a,{exact:!0,path:"/",component:j}),r.a.createElement(o.a,{exact:!0,path:"/addentry",component:k}),r.a.createElement(o.a,{exact:!0,path:"/discography",component:L}),r.a.createElement(o.a,{exact:!0,path:"/records/:id",component:F}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(M,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},55:function(e,t,a){e.exports=a.p+"static/media/header.24e3a032.png"},58:function(e,t,a){e.exports=a(133)},63:function(e,t,a){},64:function(e,t,a){},65:function(e,t,a){},66:function(e,t,a){},67:function(e,t,a){},68:function(e,t,a){}},[[58,1,2]]]);
//# sourceMappingURL=main.0f8db9bc.chunk.js.map